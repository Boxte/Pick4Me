(this.webpackJsonppick4me=this.webpackJsonppick4me||[]).push([[0],{17:function(e,t,n){e.exports=n(40)},22:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),o=n.n(c),i=(n(22),n(2)),s=n.n(i),l=n(8),u=n(5),m=n(16),p=n.n(m),h=n(6),d=n.n(h),E=(n(30),n(12)),f={headers:{Authorization:"Bearer ".concat("F54IM23WJ2UF7DH3Y7ALPNZBA543MU5X")}},b={headers:{Authorization:"Bearer ".concat("HDgGu7q662rGQUI8MYJxUBLMHMCg7bLyBCHsKWOikjTQ1JOAWZPW3ongwfQ1X3OZGoOdlWdg83wcQVpDDE1rGi5oGeNj2iOXH6qPBntNp_Ay9X0wl6-YMr0Q-kJPX3Yx")}},v=function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.wit.ai/message","?q=").concat(t),Object(E.a)({method:"get"},f)).then((function(e){if(e.ok)return e.json()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.foodType),n={term:"".concat(t.foodType," restaurants"),limit:25,location:23230},a="https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?"+new URLSearchParams(n),e.next=5,fetch(a,Object(E.a)({method:"get"},b)).then((function(e){if(e.ok)return e.json();throw Error(e.statusText)})).catch((function(e){console.log(e)}));case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e){console.log(typeof e),console.log(e);var t=e.entities,n={};if(t.hasOwnProperty("ethnicity:ethnicity")){var a=t["ethnicity:ethnicity"][0].body;n.foodType=a}return n},w=n(7),k=n.n(w),y=n(3),O=n(4),j=(n(36),function(e){var t=k()({"microphone-button":!0,"microphone-button-active":e.listening});return r.a.createElement(y.a,{className:t,icon:O.b,onClick:e.action})}),x=(n(37),function(e){var t=e.handleSwitch;return r.a.createElement("div",{className:"internal-input-selection-holder"},r.a.createElement("p",{className:"input-selection-title"},"Talk to Mr. Wit using..."),r.a.createElement("div",{className:"internal-input-selection-options-holder"},r.a.createElement("button",{className:k()("voice-button","input-selection-button"),onClick:function(){return t(!0)}},r.a.createElement(y.a,{icon:O.b}),r.a.createElement("span",{className:"input-selection-button-text"},"Voice")),r.a.createElement("button",{className:k()("text-button","input-selection-button"),onClick:function(){return t(!1)}},r.a.createElement(y.a,{icon:O.a}),r.a.createElement("span",{className:"input-selection-button-text"},"Text"))))}),S=(n(38),function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(!1),s=Object(u.a)(i,2),l=s[0],m=s[1],p=function(t){t?e.handleTextSubmit(t):m(!0)},h=function(){return l?r.a.createElement("p",{className:"text-input-error-message"},"Tell Mr. Wit what you feeling"):r.a.createElement("p",{className:"text-input-error-message"},"\xa0")};return r.a.createElement("div",{className:"text-input-overall-container"},r.a.createElement("div",{className:"text-input-container"},r.a.createElement(y.a,{className:"text-input-indicator",icon:O.a}),r.a.createElement("input",{className:"text-input-selection",placeholder:"I'm feeling korean",type:"text",value:c,onChange:function(e){return function(e){var t=e.target.value;o(t),t&&m(!1)}(e)},onKeyPress:function(e){"Enter"===e.key&&p(c)}})),r.a.createElement(h,null),r.a.createElement("button",{className:"pick-button",onClick:function(){return p(c)}},r.a.createElement("span",{className:"pick-button-text"},"\ud83e\udd16 Pick")))}),M=(n(39),function(e){console.log("HERE"),console.log(e.restaurant),console.log(JSON.stringify(e.restaurant));var t=e.restaurant,n=t.image_url,a=t.name,c=t.url,o=t.rating,i=t.price,s=t.location.display_address.join(" ");return r.a.createElement("div",{className:"restaurant-card",onClick:function(){window.open(c,"_blank")}},r.a.createElement("img",{src:n}),r.a.createElement("p",{className:"title"},a),r.a.createElement("div",{className:"details"},r.a.createElement("p",null,i),r.a.createElement("p",null,"".concat(o," / 5.0 rating"))),r.a.createElement("div",null,s))}),W=function(e){return e.transcript?r.a.createElement("p",{className:"transcript"},e.transcript):r.a.createElement("p",{className:"transcript"},"\xa0")};var T=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=(t[0],t[1]),c=Object(a.useState)({}),o=Object(u.a)(c,2),i=o[0],m=o[1],E=Object(a.useState)(""),f=Object(u.a)(E,2),b=f[0],w=f[1],k=Object(a.useState)(d.a.browserSupportsSpeechRecognition()),T=Object(u.a)(k,1)[0],A=Object(a.useState)(!0),C=Object(u.a)(A,2),P=C[0],B=C[1],H=Object(h.useSpeechRecognition)(),J=H.transcript,L=H.resetTranscript,I=H.listening,U=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(t),e.next=3,v(t).then((function(e){var t=N(e);n(!0),g(t).then((function(e){var t,a=e.businesses,r=(t=a)[Math.floor(Math.random()*Math.floor(t.length))];m(r),n(!1)}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=p.a.isEmpty(i)?r.a.createElement("div",{className:"input-holder"},r.a.createElement("div",{className:"microphone-holder"},P?T?r.a.createElement("div",null,r.a.createElement(W,{transcript:J}),r.a.createElement(j,{action:function(){I||(L(),d.a.startListening()),d.a.stopListening(),U(J)},listening:I})):r.a.createElement("div",null,r.a.createElement("h3",null,"Mr. Wit can't hear on this browser. Use text."),r.a.createElement("h4",null,"Supported browsers"),r.a.createElement("ul",{className:"supported-browsers-list"},r.a.createElement("li",null,"Chrome (desktop and Android)"),r.a.createElement("li",null,"Microsoft Edge"),r.a.createElement("li",null,"Android Webview"),r.a.createElement("li",null,"Samsung Internet"))):r.a.createElement(S,{handleTextSubmit:U}))):r.a.createElement("div",{className:"input-holder"},r.a.createElement("div",{className:"restaurant-result-holder"},r.a.createElement("p",{className:"utterance"},'"'.concat(b,'"')),r.a.createElement(M,{restaurant:i}),r.a.createElement("button",{className:"redo-button",onClick:function(){return U(b)}},r.a.createElement(y.a,{icon:O.c}),r.a.createElement("span",{className:"input-selection-button-text"},"Let's do that again"))));return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",{className:"title"},"Pick4Me"),r.a.createElement("hr",{className:"title-divider"}),r.a.createElement("p",{className:"subtitle"},"I'm too hungry to decide where to eat. Help me Mr. Wit!"),r.a.createElement("p",{className:"robot-emoji"},"\ud83e\udd16")),G,r.a.createElement("div",{className:"input-selection-holder"},r.a.createElement(x,{handleSwitch:function(e){w(""),m({}),B(e),L()}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.7f649e02.chunk.js.map