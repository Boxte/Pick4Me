(this.webpackJsonppick4me=this.webpackJsonppick4me||[]).push([[0],{17:function(e,t,n){e.exports=n(41)},22:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),o=n.n(c),i=(n(22),n(3)),l=n.n(i),s=n(6),u=n(2),m=n(11),p=n.n(m),h=n(8),d=n.n(h),f=(n(30),n(13)),E={headers:{Authorization:"Bearer ".concat("F54IM23WJ2UF7DH3Y7ALPNZBA543MU5X")}},b={headers:{Authorization:"Bearer ".concat("HDgGu7q662rGQUI8MYJxUBLMHMCg7bLyBCHsKWOikjTQ1JOAWZPW3ongwfQ1X3OZGoOdlWdg83wcQVpDDE1rGi5oGeNj2iOXH6qPBntNp_Ay9X0wl6-YMr0Q-kJPX3Yx")}},g=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.wit.ai/message","?q=").concat(t),Object(f.a)({method:"get"},E)).then((function(e){if(e.ok)return e.json()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(s.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.foodType),n={term:"".concat(t.foodType," restaurants"),limit:25,location:23230},a="https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?"+new URLSearchParams(n),e.next=5,fetch(a,Object(f.a)({method:"get"},b)).then((function(e){if(e.ok)return e.json();throw Error(e.statusText)})).catch((function(e){console.log(e)}));case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e){console.log(typeof e),console.log(e);var t=e.entities,n={};if(t.hasOwnProperty("ethnicity:ethnicity")){var a=t["ethnicity:ethnicity"][0].body;n.foodType=a}return n},w=n(7),O=n.n(w),j=n(4),k=n(5),x=(n(36),function(e){var t=O()({"microphone-button":!0,"microphone-button-active":e.listening});return r.a.createElement(j.a,{className:t,icon:k.b,onClick:e.action})}),y=(n(37),function(e){var t=e.handleSwitch;return r.a.createElement("div",{className:"internal-input-selection-holder"},r.a.createElement("p",{className:"input-selection-title"},"Talk to Mr. Wit using..."),r.a.createElement("div",{className:"internal-input-selection-options-holder"},r.a.createElement("button",{className:O()("voice-button","input-selection-button"),onClick:function(){return t(!0)}},r.a.createElement(j.a,{icon:k.b}),r.a.createElement("span",{className:"input-selection-button-text"},"Voice")),r.a.createElement("button",{className:O()("text-button","input-selection-button"),onClick:function(){return t(!1)}},r.a.createElement(j.a,{icon:k.a}),r.a.createElement("span",{className:"input-selection-button-text"},"Text"))))}),M=(n(38),n(39),function(e){var t=e.handleSubmit;return r.a.createElement("button",{className:"pick-button",onClick:t},r.a.createElement("span",{className:"pick-button-text"},"\ud83e\udd16 Pick"))}),S=["I want korean","I'm feeling American","Let's eat Greek"],T=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(!1),l=Object(u.a)(i,2),s=l[0],m=l[1],p=Math.floor(Math.random()*Math.floor(S.length)),h=Object(a.useState)(S[p]),d=Object(u.a)(h,1)[0],f=function(t){t?e.handleTextSubmit(t):m(!0)},E=function(){return s?r.a.createElement("p",{className:"text-input-error-message"},"Tell Mr. Wit what you feeling"):r.a.createElement("p",{className:"text-input-error-message"},"\xa0")};return r.a.createElement("div",{className:"text-input-overall-container"},r.a.createElement("div",{className:"text-input-container"},r.a.createElement(j.a,{className:"text-input-indicator",icon:k.a}),r.a.createElement("input",{className:"text-input-selection",placeholder:d,type:"text",value:c,onChange:function(e){return function(e){var t=e.target.value;o(t),t&&m(!1)}(e)},onKeyPress:function(e){"Enter"===e.key&&f(c)}})),r.a.createElement(E,null),r.a.createElement(M,{handleSubmit:function(){return f(c)}}))},W=(n(40),function(e){console.log("HERE"),console.log(e.restaurant),console.log(JSON.stringify(e.restaurant));var t=e.restaurant,n=t.image_url,a=t.name,c=t.url,o=t.rating,i=t.price,l=t.location.display_address.join(" ");return r.a.createElement("div",{className:"restaurant-card",onClick:function(){window.open(c,"_blank")}},r.a.createElement("img",{src:n}),r.a.createElement("p",{className:"title"},a),r.a.createElement("div",{className:"details"},r.a.createElement("p",null,i),r.a.createElement("p",null,"".concat(o," / 5.0 rating"))),r.a.createElement("div",null,l))}),A=function(e){return e.transcript?r.a.createElement("p",{className:"transcript"},e.transcript):r.a.createElement("p",{className:"transcript"},"\xa0")},C=function(e){return e.hasError?r.a.createElement("p",{className:"text-input-error-message"},"Tell Mr. Wit what you feeling"):r.a.createElement("p",{className:"text-input-error-message"},"\xa0")};var P=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=(t[0],t[1]),c=Object(a.useState)({}),o=Object(u.a)(c,2),i=o[0],m=o[1],f=Object(a.useState)(""),E=Object(u.a)(f,2),b=E[0],w=E[1],O=Object(a.useState)(d.a.browserSupportsSpeechRecognition()),P=Object(u.a)(O,1)[0],B=Object(a.useState)(!1),I=Object(u.a)(B,2),H=I[0],J=I[1],L=Object(a.useState)(!0),G=Object(u.a)(L,2),U=G[0],Q=G[1],X=Math.floor(Math.random()*Math.floor(S.length)),D=Object(a.useState)(S[X]),R=Object(u.a)(D,2),Y=R[0],_=R[1],q=Object(h.useSpeechRecognition)(),Z=q.transcript,z=q.resetTranscript,F=(q.finalTranscript,q.listening),K=function(){var e=Object(s.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p.a.isEmpty(t)){e.next=5;break}return J(!0),e.abrupt("return");case 5:J(!1);case 6:return w(t),e.next=9,g(t).then((function(e){var t=N(e);n(!0),v(t).then((function(e){var t,a=e.businesses,r=(t=a)[Math.floor(Math.random()*Math.floor(t.length))];m(r),n(!1)}))}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=p.a.isEmpty(i)?r.a.createElement("div",{className:"input-holder"},r.a.createElement("div",{className:"microphone-holder"},U?P?r.a.createElement("div",null,Z||F?r.a.createElement(A,{transcript:Z}):r.a.createElement("p",{className:"example-phraseword"},Y),r.a.createElement(x,{action:function(){F?(d.a.stopListening(),K(Z)):(z(),d.a.startListening())},listening:F}),r.a.createElement(C,{hasError:H}),r.a.createElement(M,{handleSubmit:function(){return K(Z)}})):r.a.createElement("div",null,r.a.createElement("h3",null,"Mr. Wit can't hear on this browser. Use text."),r.a.createElement("h4",null,"Supported browsers"),r.a.createElement("ul",{className:"supported-browsers-list"},r.a.createElement("li",null,"Chrome (desktop and Android)"),r.a.createElement("li",null,"Microsoft Edge"),r.a.createElement("li",null,"Android Webview"),r.a.createElement("li",null,"Samsung Internet"))):r.a.createElement(T,{handleTextSubmit:K}))):r.a.createElement("div",{className:"input-holder"},r.a.createElement("div",{className:"restaurant-result-holder"},r.a.createElement("p",{className:"utterance"},'"'.concat(b,'"')),r.a.createElement(W,{restaurant:i}),r.a.createElement("button",{className:"redo-button",onClick:function(){return K(b)}},r.a.createElement(j.a,{icon:k.c}),r.a.createElement("span",{className:"input-selection-button-text"},"I don't want this one"))));return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",{className:"title"},"Pick4Me"),r.a.createElement("hr",{className:"title-divider"}),r.a.createElement("p",{className:"subtitle"},"I'm too hungry to decide where to eat. Help me Mr. Wit!"),r.a.createElement("p",{className:"robot-emoji"},"\ud83e\udd16")),V,r.a.createElement("div",{className:"input-selection-holder"},r.a.createElement(y,{handleSwitch:function(e){w(""),m({}),Q(e),z(),X=Math.floor(Math.random()*Math.floor(S.length)),_(S[X])}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.699a3b4b.chunk.js.map